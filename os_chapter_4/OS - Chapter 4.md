# ๐ ูุตู ด: ูุฎโูุง ู ููโุฒูุงู (Threads & Concurrency)

---

## ๐งญ ุณุฑูุตูโูุง ุงุตู

ุฏุฑ ุงู ูุตู ุจุง ููุงูู ฺฉูุฏ ูุฑุจูุท ุจู ูุฎโูุง (Threads) ู ุจุฑูุงููโููุณ ููโุฒูุงู (Concurrency) ุขุดูุง ูโุดูู. ูุจุงุญุซ ุงุตู ุนุจุงุฑุชูุฏ ุงุฒ:

---

### โ Overview (ูุฑูุฑ ฺฉู)
ูุนุฑู ููุงูู ุงููู ูุฎ (Thread)ุ ุชูุงูุช ุขู ุจุง ูุฑุขูุฏ (Process)ุ ู ุฏูุงู ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุฏุฑ ุทุฑุงุญ ุณุณุชูโูุง.

---

### ๐ง Multicore Programming (ุจุฑูุงููโููุณ ฺูุฏโูุณุชูโุง)
ฺุงูุดโูุง ู ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ูุณุชูโ ูพุฑุฏุงุฒูุฏู ุจูโุตูุฑุช ููโุฒูุงู ุจุฑุง ุจูุจูุฏ ฺฉุงุฑุง ู ูพุงุณุฎโฺฏู ุจุฑูุงููโูุง.

---

### ๐งต Multithreading Models (ูุฏูโูุง ฺูุฏโูุฎ)
ุจุฑุฑุณ ูุฏูโูุง ูุฎุชูู ูพุงุฏูโุณุงุฒ ูุฎโูุง:
- ูุฏู ุชฺฉ ุจู ุชฺฉ (One-to-One)
- ูุฏู ฺูุฏ ุจู ฺฉ (Many-to-One)
- ูุฏู ฺูุฏ ุจู ฺูุฏ (Many-to-Many)

---

### ๐ Thread Libraries (ฺฉุชุงุจุฎุงููโูุง ูุฎ)
ูุนุฑู ุงุจุฒุงุฑูุง ูุงููุฏ:
- POSIX Pthreads
- Windows threads
- Java threads

---

### ๐ค Implicit Threading (ูุฎโุฏู ุถูู)
ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ู ุชฺฉูฺฉโูุง ูุงููุฏ OpenMP ุง Thread pools ุจุฑุง ูุฏุฑุช ูุฎโูุง ุจุฏูู ูุงุฒ ุจู ุงุฌุงุฏ ูุณุชูู ุขูโูุง ุชูุณุท ุจุฑูุงููโููุณ.

---

### โ๏ธ Threading Issues (ฺุงูุดโูุง ฺูุฏูุฎ)
ุจุฑุฑุณ ูุดฺฉูุงุช ูุงููุฏ:
- ุดุฑุงุท ุฑูุงุจุช (Race Conditions)
- ุจูโุจุณุช (Deadlock)
- ุฏุงุฏูโ ูุดุชุฑฺฉ ู ููฺฏุงูโุณุงุฒ (Synchronization)

---

### ๐งช Operating System Examples (ูุซุงูโูุง ุงุฒ ุณุณุชูโุนุงููโูุง)
ูุญููโ ูุฏุฑุช ู ูพุดุชุจุงู ุงุฒ ูุฎโูุง ุฏุฑ ุณุณุชูโุนุงููโูุง ูุฎุชูู ูุงููุฏ:
- Windows
- Linux
- Solaris

---

## ๐ฏ ูุฏู ูุตู
ุฏุฑฺฉ ุงููุช ูุฎโูุง ุฏุฑ ุทุฑุงุญ ูุฑูโุงูุฒุงุฑูุง ูุฏุฑู ู ุขุดูุง ุจุง ุงุจุฒุงุฑูุงุ ุชฺฉูฺฉโูุงุ ู ูุดฺฉูุงุช ูุฑุจูุท ุจู ุจุฑูุงููโููุณ ููโุฒูุงู.

---
# ๐ฏ ุงูุฏุงู ุงุฏฺฏุฑ ูุตู ด: ูุฎโูุง ู ููโุฒูุงู (Threads & Concurrency)

---

## ๐น ฑ. ุดูุงุณุง ูุคูููโูุง ุงุตู ูุฎ (Thread)
- ุฏุฑฺฉ ุงุฌุฒุง ูพุงูโุง ฺฉ ูุฎ ูุงููุฏ ุดูุงุณู ูุฎุ ุดูุงุฑูุฏู ุจุฑูุงูู (PC)ุ ูพุดุชูุ ู ุซุจุงุชโูุง.
- ููุงุณู ูุฎโูุง ุจุง ูุฑุขูุฏูุง ุงุฒ ูุญุงุธ **ููุงุจุน ุงุดุชุฑุงฺฉ**ุ **ุฒูุงู ุงุฌุงุฏ**ุ ู **ุจูุฑูโูุฑ**.

---

## ๐น ฒ. ูุฒุงุง ู ฺุงูุดโูุง ุจุฑูุงููโูุง ฺูุฏูุฎ
### โ ูุฒุงุง:
- ฺฉุงุฑุง ุจุงูุงุชุฑ ุฏุฑ ุณุณุชูโูุง ฺูุฏโูุณุชูโุง
- ูพุงุณุฎโฺฏู ุจูุชุฑ ุฏุฑ ุจุฑูุงููโูุง ุชุนุงูู
- ุงุณุชูุงุฏู ุจููู ุงุฒ ููุงุจุน

### โ๏ธ ฺุงูุดโูุง:
- ูพฺุฏฺฏ ุฏุฑ ุทุฑุงุญ
- ูุฏุฑุช ุตุญุญ ุฏุงุฏูโูุง ูุดุชุฑฺฉ
- ุฌููฺฏุฑ ุงุฒ ุดุฑุงุท ุฑูุงุจุช ู ุจูโุจุณุช

---

## ๐น ณ. ูุฎโุฏู ุถูู (Implicit Threading)
ูุนุฑู ุฑูฺฉุฑุฏูุง ูุฏุฑุช ูุฎโูุง ุจุฏูู ุณุงุฎุช ุตุฑุญ:
- **Thread Pools**: ูุฌููุนูโุง ุงุฒ ูุฎโูุง ุขูุงุฏู ุจุฑุง ุงุฌุฑุง ูุธุงู
- **Fork-Join Model**: ุดฺฉุณุชู ูุธุงู ุจู ุฒุฑูุฑุขูุฏูุง ููุงุฒ ู ุชุฑฺฉุจ ูุชุงุฌ
- **Grand Central Dispatch (GCD)**: ููุงูุฑ ุงูพู ุจุฑุง ุฒูุงูโุจูุฏ ููุงุฒ ุฎูุฏฺฉุงุฑ

---

## ๐น ด. ูุฏุฑุช ูุฎ ุฏุฑ ุณุณุชูโุนุงููโูุง
ูุญูู ููุงุด ู ูุฏุฑุช ูุฎโูุง ุฏุฑ:
- **Windows**: ุงุณุชูุงุฏู ุงุฒ Thread Object ู APIูุง ุงุฎุชุตุงุต
- **Linux**: ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุณุทุญ ฺฉุงุฑุจุฑ ู ฺฉุชุงุจุฎุงูู `pthread`

---

## ๐น ต. ุทุฑุงุญ ุจุฑูุงููโูุง ฺูุฏูุฎ
ุงุณุชูุงุฏู ุงุฒ APIูุง ูุฎุชูู ุจุฑุง ุงุฌุงุฏ ู ูุฏุฑุช ูุฎโูุง:
- **Pthreads** (ุฏุฑ C/C++ ุฏุฑ ุณุณุชูโูุง ููฺฉุณโูุงููุฏ)
- **Java Threads** (ฺฉูุงุณ `Thread` ู `Runnable`)
- **Windows Threads** (ุชูุงุจุน `CreateThread`, `WaitForSingleObject` ู ...)

---

## ๐ ูุชุฌูโฺฏุฑ
ุงู ูุตู ูพุงูโุง ุจุฑุง ุฏุฑฺฉ ูุญูู ุทุฑุงุญุ ูพุงุฏูโุณุงุฒุ ู ุงุดฺฉุงูโุฒุฏุง ุจุฑูุงููโูุง ฺูุฏูุฎ ุงุณุช ู ููุด ฺฉูุฏ ุฏุฑ ุจูุฑูโฺฏุฑ ฺฉุงูู ุงุฒ ุณุฎุชโุงูุฒุงุฑูุง ฺูุฏโูุณุชูโุง ุฏุงุฑุฏ.

---
# ๐ก ุงูฺฏุฒู ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง (Motivation)

---

## ๐ ฺุฑุง ุจุดุชุฑ ุจุฑูุงููโูุง ุงูุฑูุฒ ฺูุฏูุฎ ูุณุชูุฏุ

ุงฺฉุซุฑ ูุฑูโุงูุฒุงุฑูุง ูุฏุฑู ุงุฒ **ฺูุฏ ูุฎ (Multithreading)** ุงุณุชูุงุฏู ูโฺฉููุฏ. ุฏูุงู ุงุตู ุนุจุงุฑุชูุฏ ุงุฒ:

---

## ๐งฉ ฑ. ุงุฌุฑุง ููโุฒูุงู ูุธุงู ูุฎุชูู ุฏุฑ ฺฉ ุจุฑูุงูู

ุฏุฑ ฺฉ ุจุฑูุงููุ ูโุชูุงู ูุธุงู ูุฎุชูู ุฑุง ุฏุฑ **ูุฎโูุง ุฌุฏุงฺฏุงูู** ูพุงุฏูโุณุงุฒ ฺฉุฑุฏ:

- ๐ฅ๏ธ ุจูโุฑูุฒุฑุณุงู ุฑุงุจุท ฺฏุฑุงูฺฉ (UI)
- ๐ก ุฏุฑุงูุช ุฏุงุฏู ุงุฒ ุงูุชุฑูุช
- ๐ ุจุฑุฑุณ ุงููุง ฺฉููุงุช ุฏุฑ ูพุณโุฒููู
- ๐ ูพุงุณุฎ ุจู ุฏุฑุฎูุงุณุชโูุง ุดุจฺฉู

---

## โ๏ธ ฒ. ููุงุณู ูพุฑุฏุงุฒู ู ูุฎ

| ูฺฺฏ             | Process (ูุฑุขูุฏ) | Thread (ูุฎ)       |
|------------------|------------------|-------------------|
| ูุฒูู ุงุฌุงุฏ      | ุฒุงุฏ             | ฺฉู (ุณุจฺฉ)          |
| ุญุงูุธู ุงุฎุชุตุงุต    | ุฏุงุฑุฏ             | ูุดุชุฑฺฉ ุจุง ุฏฺฏุฑ ูุฎโูุง ููุงู ูุฑุขูุฏ |
| ฺฉุงุฑุง           | ฺฉูุชุฑ             | ุจุดุชุฑ ุฏุฑ ฺูุฏูุธูฺฏ |

> ูุฎโูุง ุณุจฺฉโุชุฑ ุงุฒ ูพุฑุฏุงุฒูโูุง ูุณุชูุฏ ู ุฒูุงู ุงุฌุงุฏุ ุณูฺุ ู ูุฏุฑุช ุขูโูุง ฺฉูุชุฑ ุงุณุช.

---

## ๐ง ณ. ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง

- โ **ุงูุฒุงุด ุจุงุฒุฏู** ุจุง ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ูุณุชู ูพุฑุฏุงุฒูุฏู
- โ **ุณุงุฏูโุณุงุฒ ฺฉุฏ** ุงุฒ ุทุฑู ุชูฺฉฺฉ ูุธุงู
- โ **ูพุงุณุฎโฺฏู ุจูุชุฑ** ุฏุฑ ุจุฑูุงููโูุง ุชุนุงูู
- โ **ุงุณุชูุงุฏู ุจูุชุฑ ุงุฒ ููุงุจุน ุณุฎุชโุงูุฒุงุฑ**

---

## ๐ง ด. ฺฉุฑูู ุณุณุชูโุนุงููโูุง ูุฒ ฺูุฏูุฎ ูุณุชูุฏ

ูุณุชู ุจุณุงุฑ ุงุฒ ุณุณุชูโุนุงููโูุง ูุฏุฑู ูุงููุฏ **Linux**, **Windows**, ู **macOS** ุจู ุตูุฑุช ฺูุฏูุฎ ุทุฑุงุญ ุดุฏูโุงูุฏ ุชุง:

- ููโุฒูุงู ุจุงูุง ุฏุงุดุชู ุจุงุดูุฏ
- ุนููุงุช I/O ุฑุง ุจู ุตูุฑุช ุบุฑูุณุฏูุฏ ุงูุฌุงู ุฏููุฏ
- ุจูุชุฑ ุจุง ุณุฎุชโุงูุฒุงุฑูุง ฺูุฏโูุณุชูโุง ุชุนุงูู ฺฉููุฏ

---

## ๐ฏ ุฌูุนโุจูุฏ

ุงุณุชูุงุฏู ุงุฒ ูุฎโูุง ุฏุฑ ุจุฑูุงููโููุณ ูุฏุฑู ุจุงุนุซ:
- ฺฉุงุฑุง ุจุดุชุฑุ
- ุทุฑุงุญ ุณุงุฏูโุชุฑุ
- ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุฑูุงูโุชุฑ ูโุดูุฏ.

ุจู ููู ุฏููุ ุงุฏฺฏุฑ ูุฎโูุง ุจุฑุง ูุฑ ุชูุณุนูโุฏููุฏูโุง ุถุฑูุฑ ุงุณุช.

---
# ๐ ูพุฑุฏุงุฒูโูุง ุชฺฉโูุฎ ู ฺูุฏูุฎ (Single and Multithreaded Processes)

---

## ๐งต ูพุฑุฏุงุฒู ุชฺฉโูุฎ (Single-Threaded Process)

ฺฉ ูพุฑุฏุงุฒูโ ุชฺฉโูุฎ ุชููุง ุดุงูู ฺฉ ูุฎ ุงุฌุฑุง ุงุณุช ู ููู ููุงุจุน ุฑุง ุจูโุตูุฑุช ูุดุชุฑฺฉ ุงุณุชูุงุฏู ูโฺฉูุฏ:

### ุงุฌุฒุง ูุดุชุฑฺฉ:
- `code` (ฺฉุฏ ุจุฑูุงูู)
- `data` (ุฏุงุฏูโูุง)
- `files` (ูุงูโูุง ุจุงุฒ)
- `registers` (ุซุจุงุชโูุง)
- `PC` (ุดูุงุฑูุฏู ุจุฑูุงูู)
- `stack` (ูพุดุชู)

> ุชููุง ฺฉ ูุณุฑ ุงุฌุฑุง ุฏุฑ ุจุฑูุงูู ูุฌูุฏ ุฏุงุฑุฏ.

![[Pasted image 20250514213950.png]]

---

## ๐งถ ูพุฑุฏุงุฒู ฺูุฏูุฎ (Multithreaded Process)

ุฏุฑ ฺฉ ูพุฑุฏุงุฒู ฺูุฏูุฎุ ฺูุฏ ูุณุฑ ุงุฌุฑุง ููโุฒูุงู ุจุง ุงุดุชุฑุงฺฉ ููุงุจุน ุนูู ูโฺฉููุฏ.

### ููุงุจุน ูุดุชุฑฺฉ ุจู ูุฎโูุง:
- `code`
- `data`
- `files`

### ููุงุจุน ุงุฎุชุตุงุต ูุฑ ูุฎ:
- `registers`
- `PC`
- `stack`

![[Pasted image 20250514214043.png]]

---

## ๐ ุชูุงูุช ฺฉูุฏ

| ูฺฺฏ                     | ุชฺฉโูุฎ                    | ฺูุฏูุฎ                     |
|--------------------------|---------------------------|----------------------------|
| ุชุนุฏุงุฏ ูุฎโูุง              | ฑ                         | ฺูุฏ ูุฎ                    |
| ุงุดุชุฑุงฺฉ ููุงุจุน             | ููู ููุงุจุน ุจุฑุง ฺฉ ูุฎ ุงุณุช  | ููุงุจุน ุจุฑูุงูู ูุดุชุฑฺฉ ูู ุซุจุงุชโูุงุ ูพุดุชู ู PC ุฌุฏุงฺฏุงูู |
| ฺฉุงุฑุง ุฏุฑ ฺูุฏูุธูฺฏ       | ฺฉู                        | ุฒุงุฏ                      |
| ููุงุณุจ ุจุฑุง               | ูุธุงู ุณุงุฏู               | ูุธุงู ูพฺุฏู ู ููโุฒูุงู     |

> โ ฺูุฏูุฎ ุจูุฏู ุจุฑูุงูู ุจุงุนุซ ุงูุฒุงุด ฺฉุงุฑุง ู ูพุงุณุฎโฺฏู ุณุณุชู ุฏุฑ ุจุฑูุงููโูุง ุชุนุงูู ุง ูพุฑุฏุงุฒุด ูโุดูุฏ.

---
# ๐งต ูุนูุงุฑ ุณุฑูุฑ ฺูุฏูุฎ (Multithreaded Server Architecture)

ุฏุฑ ูุนูุงุฑ ุณุฑูุฑ ฺูุฏูุฎุ ุณุฑูุฑ ูุงุฏุฑ ุงุณุช ููโุฒูุงู ุจู ุฏุฑุฎูุงุณุชโูุง ูุชุนุฏุฏ ูพุงุณุฎ ุฏูุฏุ ฺุฑุง ฺฉู ุจุฑุง ูุฑ ุฏุฑุฎูุงุณุช ฺฉ ูุฎ ุฌุฏุฏ ุงุฌุงุฏ ูโุดูุฏ.

---

## ๐งญ ูุฑุงุญู ุนููฺฉุฑุฏ ุณุฑูุฑ:

1๏ธโฃ **ุฏุฑุงูุช ุฏุฑุฎูุงุณุช ุงุฒ ฺฉูุงูุช**
- ฺฉูุงูุช ฺฉ ุฏุฑุฎูุงุณุช ุจุฑุง ุณุฑูุฑ ุงุฑุณุงู ูโฺฉูุฏ.

2๏ธโฃ **ุงุฌุงุฏ ูุฎ ุฌุฏุฏ ุจุฑุง ุฑุณุฏฺฏ ุจู ุฏุฑุฎูุงุณุช**
- ุณุฑูุฑ ุจุฑุง ุฑุณุฏฺฏ ุจู ุฏุฑุฎูุงุณุชุ ฺฉ ูุฎ (Thread) ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูุฏ.
- ุงู ูุฎ ุจูโุตูุฑุช ูุณุชูู ูุธูู ูพุงุณุฎ ุจู ฺฉูุงูุช ุฑุง ุจุฑุนูุฏู ูโฺฏุฑุฏ.

3๏ธโฃ **ุจุงุฒฺฏุดุช ุจู ุญุงูุช ฺฏูุดโุฏุงุฏู**
- ุณุฑูุฑ ุจูโุณุฑุนุช ุจู ุญุงูุช ุงูุชุธุงุฑ ุจุฑุง ุฏุฑุงูุช ุฏุฑุฎูุงุณุชโูุง ุจุนุฏ ุจุงุฒูโฺฏุฑุฏุฏ.

---

## ๐ง ุฏุงฺฏุฑุงู:

![[Pasted image 20250514214346.png]]

---

## ๐ฏ ูุฒุงุง:

- ๐ถ ูพุงุณุฎโฺฏู ุจุงูุง ุจู ฺฉุงุฑุจุฑุงู ููโุฒูุงู
- ๐ ุงูุฒุงุด ุจูุฑูโูุฑ ุจุง ูพุฑุฏุงุฒุด ููุงุฒ
- โก ฺฉุงูุด ุฒูุงู ูพุงุณุฎฺฏู (Response Time)
- ๐ก ููุงุณุจ ุจุฑุง ุณุณุชูโูุง ุจุง ุจุงุฑ ุฒุงุฏ ูุงููุฏ ูุจโุณุฑูุฑูุง

---
## โ **ูุฒุงุง Threadูุง (Benefits of Threads)**

|ูุฒุช|ุชูุถุญ|
|---|---|
|๐ง **Responsiveness (ูพุงุณุฎโฺฏู)**|ุงูฺฉุงู ุงุฏุงูู ุงุฌุฑุง ุจุฎุดโูุง ุงุฒ ุจุฑูุงูู ุญุช ุฒูุงู ฺฉู ฺฉ ูุฎ ูุณุฏูุฏ ุดุฏู ุงุณุชุ ุจูโูฺู ุจุฑุง ุฑุงุจุทโูุง ฺฉุงุฑุจุฑ ุจุณุงุฑ ููู ุงุณุช.|
|๐ **Resource Sharing (ุงุดุชุฑุงฺฉ ููุงุจุน)**|ูุฎโูุง ููุงุจุน ฺฉุณุงู (ูุซู ุญุงูุธู ู ูุงูโูุง) ุฑุง ุจูโุฑุงุญุช ุจุง ูู ุจู ุงุดุชุฑุงฺฉ ูโฺฏุฐุงุฑูุฏุ ุขุณุงูโุชุฑ ุงุฒ ูุฏูโูุง ูุซู message passing ุง shared memory ุจู ูพุฑุฏุงุฒูโูุง.|
|๐ธ **Economy (ุงูุชุตุงุฏ ุจูุฏู)**|ุงุฌุงุฏ ูุฎ ุจุณุงุฑ ุงุฑุฒุงูโุชุฑ ุงุฒ ุงุฌุงุฏ ูพุฑุฏุงุฒู ุงุณุชุ ููฺูู ุฒูุงู ุชุนูุถ ูุฎ (thread switching) ฺฉูุชุฑ ุงุฒ ุฒูุงู ุชุนูุถ ุฒููู (context switching) ุจู ูพุฑุฏุงุฒูโูุงุณุช.|
|๐ **Scalability (ููุงุณโูพุฐุฑ)**|ุงุณุชูุงุฏู ุจููู ุงุฒ ุณุณุชูโูุง ฺูุฏโูุณุชูโุง ุจุง ุงุฌุฑุง ููุงุฒ ฺูุฏ ูุฎุ ุงูุฒุงุด ุจูุฑูโูุฑ ู ฺฉุงุฑุง.|

---
# User Threads and Kernel Threads

## User Threads
- **ูุฏุฑุช ูุฎโูุง ฺฉุงุฑุจุฑ** ุชูุณุท ฺฉุชุงุจุฎุงููโูุง ูุฎ ุฏุฑ ุณุทุญ ฺฉุงุฑุจุฑ ุงูุฌุงู ูโุดูุฏ. ุฏุฑ ุงู ูุฏูุ ูุฑุขูุฏ ูุฏุฑุช ูุฎโูุง ุฎุงุฑุฌ ุงุฒ ูุณุชู (Kernel) ุงูุฌุงู ูโุดูุฏ.
- **ฺฉุชุงุจุฎุงููโูุง ูุฎ ฺฉุงุฑุจุฑ**:
  - **POSIX Pthreads**: ฺฉ ุงุฒ ูุดููุฑุชุฑู ฺฉุชุงุจุฎุงููโูุง ุจุฑุง ูุฏุฑุช ูุฎโูุง ุฏุฑ ุณุณุชูโูุง ููฺฉุณ ู ูููฺฉุณ ุงุณุช.
  - **Windows threads**: ุฏุฑ ุณุณุชูโุนุงูู ููุฏูุฒ ุจุฑุง ุงุฌุงุฏ ู ูุฏุฑุช ูุฎโูุง ุงุณุชูุงุฏู ูโุดูุฏ.
  - **Java threads**: ุฏุฑ ุฒุจุงู ุจุฑูุงููโููุณ ุฌุงูุง ุจุฑุง ูพุงุฏูโุณุงุฒ ูุฎโูุง ู ุงูุฌุงู ุนููุงุช ฺูุฏูุฎ ุงุณุชูุงุฏู ูโุดูุฏ.

## Kernel Threads
- **ูุฎโูุง ูุณุชู** ุชูุณุท ุฎูุฏ ูุณุชู (Kernel) ูุฏุฑุช ูโุดููุฏ. ุงู ูุฎโูุง ุจูโุทูุฑ ูุณุชูู ุชูุณุท ุณุณุชูโุนุงูู ู ูุณุชู ุงุฌุงุฏ ู ูุฏุฑุช ูโุดููุฏ.
- **ูุซุงูโูุง**: ุชูุฑุจุงู ุชูุงู ุณุณุชูโุนุงููโูุง ุนููู ุงุฒ ูุฎโูุง ูุณุชูโุง ูพุดุชุจุงู ูโฺฉููุฏ:
  - **Windows**
  - **Linux**
  - **Mac OS X**
  - **iOS**
  - **Android**

### ุชูุงูุชโูุง:
- **ูุฏุฑุช**: ุฏุฑ ูุฎโูุง ฺฉุงุฑุจุฑุ ูุฏุฑุช ูุฎโูุง ุชูุณุท ุจุฑูุงููโููุณ ู ฺฉุชุงุจุฎุงููโูุง ุณุทุญ ฺฉุงุฑุจุฑ ุงูุฌุงู ูโุดูุฏ. ุฏุฑ ูุฎโูุง ูุณุชูุ ูุฏุฑุช ูุฎโูุง ุชูุณุท ูุณุชู ุณุณุชูโุนุงูู ุตูุฑุช ูโฺฏุฑุฏ.
- **ุนููฺฉุฑุฏ**: ูุฎโูุง ฺฉุงุฑุจุฑ ูุนูููุงู ุณุฑุนโุชุฑ ูุณุชูุฏ ุฒุฑุง ูุงุฒ ุจู ุชูุงุณ ุจุง ูุณุชู ุณุณุชูโุนุงูู ูุฏุงุฑูุฏุ ูู ูุฎโูุง ูุณุชูโุง ุงูุนุทุงูโูพุฐุฑ ุจุดุชุฑ ุฏุงุฑูุฏ ู ูโุชูุงููุฏ ุงุฒ ูุงุจูุชโูุง ูพุดุฑูุชู ูุณุชู ูุงููุฏ ฺูุฏ ูุณุชูโุง ุงุณุชูุงุฏู ฺฉููุฏ.

---
# User-Level vs. Kernel-Level Threads

ุฏุฑ ุณุณุชูโูุง ฺูุฏุฑุณูุงู (Multithreaded)ุ ูุฎโูุง (Threads) ูโุชูุงููุฏ ุฏุฑ ุฏู ุณุทุญ ูุฏุฑุช ุดููุฏ: ุณุทุญ ฺฉุงุฑุจุฑ (User-Level) ู ุณุทุญ ูุณุชู (Kernel-Level). ููฺูู ุชุฑฺฉุจ ุงุฒ ุงู ุฏู ูู ูุฌูุฏ ุฏุงุฑุฏ.

---

## 1. User-Level Threads (ูุฎโูุง ุณุทุญ ฺฉุงุฑุจุฑ)

### ูฺฺฏโูุง:
- ูุฏุฑุช ูุฎโูุง ุฏุฑ **ูุถุง ฺฉุงุฑุจุฑ** ุงูุฌุงู ูโุดูุฏ.
- ุณุณุชูโุนุงูู ุงุฒ ูุฌูุฏ ุงู ูุฎโูุง ุขฺฏุงู ูุณุช.
- ูุฏุฑุช ูุฎโูุง ุชูุณุท **ฺฉุชุงุจุฎุงููโูุง ูุฎ** ูุซู POSIX Threads ุงูุฌุงู ูโุดูุฏ.

### ูุฒุงุง:
- ุณุฑุนโุชุฑ: ุชุบุฑ (Context Switch) ุจู ูุฎโูุง ุจุฏูู ุฏุฎุงูุช ุณุณุชูโุนุงูู ุงูุฌุงู ูโุดูุฏ.
- ูุงุจู ุญูู: ูุงุฒ ุจู ูพุดุชุจุงู ุฎุงุต ุงุฒ ุทุฑู ุณุณุชูโุนุงูู ูุณุช.

### ูุนุงุจ:
- ุงฺฏุฑ ฺฉ ูุฎ ููุชุธุฑ I/O ุจูุงูุฏุ ฺฉู ูุฑุขูุฏ ููุชุธุฑ ูโูุงูุฏ (Blocking).
- ููโุชูุงู ุงุฒ ฺูุฏ ูุณุชู CPU ุจูโุทูุฑ ฺฉุงูู ุจูุฑู ุจุฑุฏ.

### ุฏุงฺฏุฑุงู:
ูุฎโูุง ฺฉุงุฑุจุฑ ุฑู ฺฉ ูุฎ ฺฉุฑูู ุณูุงุฑ ูุณุชูุฏ:
```mermaid
graph TD
    subgraph User Space
        T1(User Thread 1)
        T2(User Thread 2)
        T3(User Thread 3)
        Lib[Threads Library]
    end
    subgraph Kernel Space
        K(Kernel Thread)
    end
    P(Process)
    T1 --> Lib --> K --> P
    T2 --> Lib
    T3 --> Lib
````

---

## 2. Kernel-Level Threads (ูุฎโูุง ุณุทุญ ูุณุชู)

### ูฺฺฏโูุง:

- ูุฏุฑุช ูุฎโูุง ุชูุณุท **ุณุณุชูโุนุงูู** ุฏุฑ ูุถุง ฺฉุฑูู ุงูุฌุงู ูโุดูุฏ.
    
- ุณุณุชูโุนุงูู ูุฑ ูุฎ ุฑุง ุฌุฏุงฺฏุงูู ุฒูุงูโุจูุฏ ูโฺฉูุฏ.
    

### ูุฒุงุง:

- ูพุดุชุจุงู ุจูุชุฑ ุงุฒ ฺูุฏูพุฑุฏุงุฒูุฏู (Multiprocessing).
    
- ุงฺฏุฑ ฺฉ ูุฎ ูุณุฏูุฏ ุดูุฏุ ุจูู ูโุชูุงููุฏ ุจู ุงุฌุฑุง ุงุฏุงูู ุฏููุฏ.
    

### ูุนุงุจ:

- ุณุฑุจุงุฑ ุจุดุชุฑ: ูุฑ ุนููุงุช ูุฎ ูุงุฒ ุจู ุชุนุงูู ุจุง ฺฉุฑูู ุฏุงุฑุฏ.
    
- ุชุบุฑ ูุฎ (Context Switch) ฺฉูุฏุชุฑ ุงุฒ ุญุงูุช ฺฉุงุฑุจุฑ ุงุณุช.
    

### ุฏุงฺฏุฑุงู:

ูุฑ ูุฎ ฺฉุงุฑุจุฑ ูุนุงุฏู ฺฉ ูุฎ ฺฉุฑูู ุฏุงุฑุฏ:

```mermaid
graph TD
    subgraph User Space
        P(Process)
    end
    subgraph Kernel Space
        K1(Kernel Thread 1)
        K2(Kernel Thread 2)
        K3(Kernel Thread 3)
    end
    K1 --> P
    K2 --> P
    K3 --> P
```

---

## 3. Combined / Hybrid Threads (ูุฏู ุชุฑฺฉุจ)

### ูฺฺฏโูุง:

- ุชุฑฺฉุจ ุงุฒ ุฏู ูุฏู ุจุงูุง ุงุณุช.
    
- ฺูุฏ ูุฎ ฺฉุงุฑุจุฑ ูโุชูุงููุฏ ุฑู ฺูุฏ ูุฎ ฺฉุฑูู ูฺฏุงุดุช ุดููุฏ (Many-to-Many model).
    

### ูุฒุงุง:

- ุงูุนุทุงูโูพุฐุฑ ู ููุงุณโูพุฐุฑ.
    
- ูุฒุงุง ูุฏู ฺฉุงุฑุจุฑ ู ูุณุชู ุฑุง ููโุฒูุงู ุฏุงุฑุฏ.
    

### ูุนุงุจ:

- ูพุงุฏูโุณุงุฒ ูพฺุฏูโุชุฑ.
    
- ูุงุฒููุฏ ูพุดุชุจุงู ุชูุณุท ุณุณุชูโุนุงูู ู ฺฉุชุงุจุฎุงูู.
    

### ุฏุงฺฏุฑุงู:

```mermaid
graph TD
    subgraph User Space
        T1(User Thread 1)
        T2(User Thread 2)
        T3(User Thread 3)
        T4(User Thread 4)
        Lib[Threads Library]
    end
    subgraph Kernel Space
        K1(Kernel Thread 1)
        K2(Kernel Thread 2)
    end
    P1(Process 1)
    P2(Process 2)
    
    T1 --> Lib --> K1 --> P1
    T2 --> Lib --> K1
    T3 --> Lib --> K2 --> P2
    T4 --> Lib --> K2
```

---

# ููุงุณู ุงุฌูุงู

|ูฺฺฏ|User-Level Threads|Kernel-Level Threads|Combined Threads|
|---|---|---|---|
|ุณุฑุนุช ุณูุฆฺ|ุจุงูุง|ูพุงู|ูุชูุณุท|
|ูุงุฒ ุจู ฺฉุฑูู|ูุฏุงุฑุฏ|ุฏุงุฑุฏ|ุฏุงุฑุฏ|
|ูุฏุฑุช|ฺฉุชุงุจุฎุงูู ฺฉุงุฑุจุฑ|ุณุณุชูโุนุงูู|ูุฑ ุฏู|
|ุจูุฑูโูุฑ ฺูุฏ CPU|ูพุงู|ุจุงูุง|ุจุงูุง|
|ูพุงุฏูโุณุงุฒ|ุณุงุฏู|ูุชูุณุท|ูพฺุฏู|

---

> **ูุชุฌูโฺฏุฑ:**  
> ูุฑ ูุฏู ูุฒุงุง ู ูุนุงุจ ุฎุงุต ุฎูุฏุด ุฑุง ุฏุงุฑุฏ ู ุจุณุชู ุจู ููุน ฺฉุงุฑุจุฑุฏุ ุงูุชุฎุงุจ ููุงุณุจ ูุชูุงูุช ุงุณุช.

---
# ูุฏู ุงุฑุชุจุงุท ูุฎโูุง ฺฉุงุฑุจุฑ ู ูุณุชู

## ูุถุง ฺฉุงุฑุจุฑ (User Space)
ุฏุฑ ุงู ุจุฎุด ุงุฒ ุณุณุชูุ **ูุฎโูุง ฺฉุงุฑุจุฑ (User Threads)** ุชูุณุท ุจุฑูุงููโูุง ุง ฺฉุชุงุจุฎุงููโูุง ูุงููุฏ `pthreads` ูุฏุฑุช ูโุดููุฏ. ุณุณุชูโุนุงูู ุงุฒ ูุฌูุฏ ุงู ูุฎโูุง ุจโุงุทูุงุน ุงุณุช ูฺฏุฑ ุงูฺฉู ุงุฒ ูุฏูโูุง ุงุณุชูุงุฏู ุดูุฏ ฺฉู ุขูโูุง ุฑุง ูฺฏุงุดุช ูโุฏููุฏ.

## ูุถุง ูุณุชู (Kernel Space)
ุฏุฑ ุงูุฌุงุ **ูุฎโูุง ูุณุชู (Kernel Threads)** ูุณุชููุงู ุชูุณุท ุณุณุชูโุนุงูู ูุฏุฑุช ูโุดููุฏ. ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุงู ูุฎโูุง ุฑุง ุฏุฑ ูพุฑุฏุงุฒูุฏูโูุง ุฒูุงูโุจูุฏ ฺฉุฑุฏู ู ุจู ููุงุจุน ุฏุณุชุฑุณ ุฏูุฏ.

---

## ุณู ูุฏู ูฺฏุงุดุช ุงุตู ุจู ุงู ุฏู ููุน ูุฎ:

| ูุฏู           | ุชูุถุญ | ูุซุงู |
|----------------|--------|-------|
| **1 ุจู 1**     | ูุฑ ูุฎ ฺฉุงุฑุจุฑ ุจุง ฺฉ ูุฎ ฺฉุฑูู ูฺฏุงุดุช ูโุดูุฏ. | Windows, Linux (modern) |
| **ฺูุฏ ุจู ฺฉ**  | ฺูุฏ ูุฎ ฺฉุงุฑุจุฑ ุฑู ฺฉ ูุฎ ฺฉุฑูู ูฺฏุงุดุช ุฏุงุฏู ูโุดููุฏ. | ุณุณุชูโูุง ุณุงุฏู ุง ฺฉุชุงุจุฎุงููโูุง ุณุจฺฉ |
| **ฺูุฏ ุจู ฺูุฏ** | ฺูุฏ ูุฎ ฺฉุงุฑุจุฑ ูโุชูุงููุฏ ุฑู ฺูุฏ ูุฎ ฺฉุฑูู ูฺฏุงุดุช ุงุจูุฏ. | Solarisุ ุจุฑุฎ ูุณุฎูโูุง NetBSD |

---
![[Pasted image 20250514220422.png]]
## ุชูุณุฑ ุชุตูุฑ:

- ุฏุฑ ุจุฎุด ุจุงูุงุ **user threads** ููุงุด ุฏุงุฏู ุดุฏูโุงูุฏ ฺฉู ุฏุฑ ูุถุง ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดููุฏ.
- ุฏุฑ ุจุฎุด ูพุงูุ **kernel threads** ูุฑุงุฑ ุฏุงุฑูุฏ ฺฉู ูุดุงูโุฏููุฏู ูุฎ ุงุณุช ฺฉู ุณุณุชูโุนุงูู ุขูโูุง ุฑุง ุฒูุงูโุจูุฏ ูโฺฉูุฏ.
- ุงุฑุชุจุงุท ูุงู ุงู ุฏู ุฏุฑ ูุฏูโูุง ูุฎุชูู ูโุชูุงูุฏ ูุชูุงูุช ุจุงุดุฏ:

  - **ุงฺฏุฑ ูฺฏุงุดุช ุงูุฌุงู ูุดูุฏ**: ุณุณุชูโุนุงูู ุชููุง ฺฉ ูุฎ ูโุจูุฏ โ ูุงฺฉุงุฑุขูุฏ ุจุฑุง ฺูุฏ ูุณุชู.
  - **ุงฺฏุฑ ูฺฏุงุดุช ฺฉ ุจู ฺฉ ุจุงุดุฏ**: ุนููฺฉุฑุฏ ุจูุชุฑ ูู ูุฒูู ุจุดุชุฑ ุจุฑุง ูุฑ ูุฎ.
  - **ุฏุฑ ูุฏู ุชุฑฺฉุจ**: ุงูุนุทุงูโูพุฐุฑ ุจุงูุงุ ูู ูพุงุฏูโุณุงุฒ ูพฺุฏูโุชุฑ.

---

๐ **ูฺฉุชู:**  
ฺฉ ุงุฒ ุฏูุงู ููู ุงุณุชูุงุฏู ุงุฒ ูุฏูโูุง ุชุฑฺฉุจ ุงู ุงุณุช ฺฉู ุจุชูุงู ุจู ฺฉุงุฑุง ู ูพฺุฏฺฏ ฺฉ ุชุนุงุฏู ุงุฌุงุฏ ฺฉุฑุฏ.

---
## ูุฏู Many-to-One (ฺูุฏ ุจู ฺฉ)

ุฏุฑ ุงู ูุฏูุ ฺูุฏู ูุฎ (thread) ุฏุฑ ุณุทุญ ฺฉุงุฑุจุฑ ุจู **ฺฉ ูุฎ ุฏุฑ ุณุทุญ ูุณุชู** (kernel thread) ูฺฏุงุดุช ุฏุงุฏู ูโุดููุฏ.

### ูฺฺฏโูุง:
- โ **ูุฏุฑุช ุณุงุฏูโุชุฑ**: ูุฎโูุง ุชูุณุท ฺฉุชุงุจุฎุงููโุง ุฏุฑ ูุถุง ฺฉุงุฑุจุฑ ูุฏุฑุช ูโุดููุฏ.
- โ **ุจููฺฉ ุดุฏู ููุฒูุงู**: ุงฺฏุฑ ฺฉ ุงุฒ ูุฎโูุง ฺฉุงุฑุจุฑ ฺฉ ุนููุงุช ุจููฺฉูโฺฉููุฏู (blocking) ุงูุฌุงู ุฏูุฏ (ูุซู ุฎูุงูุฏู ุงุฒ ุฏุณฺฉ)ุ ุชูุงู ูุฎโูุง ูุชููู ูโุดููุฏ.
- โ **ุนุฏู ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ูุณุชู**: ฺูู ุชููุง ฺฉ ูุฎ ูุณุชู ูุฌูุฏ ุฏุงุฑุฏุ ุญุช ุฏุฑ ุตูุฑุช ูุฌูุฏ ฺูุฏ ูุณุชูุ ุงุฌุฑุง ููุฒูุงู (parallelism) ุงุชูุงู ููโุงูุชุฏ.

### ูุฒุงุง:
- ุณุงุฏู ู ุณุจฺฉ ุจุฑุง ูพุงุฏูโุณุงุฒ.
- ูุงุฒ ุจู ูพุดุชุจุงู ุฎุงุต ุงุฒ ูุณุชู ุณุณุชูโุนุงูู ูุฏุงุฑุฏ.

### ูุนุงุจ:
- ุนุฏู ุงุณุชูุงุฏู ุงุฒ ุชูุงู ูุญุงุณุจุงุช ุณุณุชูโูุง ฺูุฏโูุณุชูโุง.
- ุขุณุจโูพุฐุฑ ุฏุฑ ุจุฑุงุจุฑ ุนููุงุชโูุง ุจููฺฉูโฺฉููุฏู.

![[Pasted image 20250514220714.png]]

### ฺฉุงุฑุจุฑุฏูุง ู ูููููโูุง:
- **Solaris Green Threads**: ูุณุฎูโุง ุงุฒ ุณููุงุฑุณ ฺฉู ุงุฒ ุงู ูุฏู ุงุณุชูุงุฏู ูโฺฉุฑุฏ.
- **GNU Portable Threads (GNU Pth)**: ฺฉุชุงุจุฎุงููโุง ุฏุฑ ูููฺฉุณ ฺฉู ุงู ูุฏู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.

---

๐ **ุฌูุนโุจูุฏ**:  
ูุฏู Many-to-One ุจุฑุง ุณุณุชูโูุง ุจุง ูพุฑุฏุงุฒุดโูุง ุณุงุฏู ู ุชฺฉโูุณุชูโุง ููุงุณุจ ุงุณุชุ ุงูุง ุจุฑุง ุงุณุชูุงุฏู ูุคุซุฑ ุงุฒ ููุงุจุน ุฏุฑ ุณุณุชูโูุง ฺูุฏโูุณุชูโุง ููุงุณุจ ูุณุช.

---
## ูุฏู One-to-One (ฺฉ ุจู ฺฉ)

ุฏุฑ ุงู ูุฏูุ **ูุฑ ูุฎ ุฏุฑ ุณุทุญ ฺฉุงุฑุจุฑ ุจู ฺฉ ูุฎ ุฏุฑ ุณุทุญ ูุณุชู** ูฺฏุงุดุช ุฏุงุฏู ูโุดูุฏ. ุจู ุนุจุงุฑุชุ ุจุง ุงุฌุงุฏ ูุฑ ูุฎ ฺฉุงุฑุจุฑุ ฺฉ ูุฎ ูุชูุงุธุฑ ุฏุฑ ูุณุชู ูุฒ ุงุฌุงุฏ ูโฺฏุฑุฏุฏ.

### ูฺฺฏโูุง:
- โ **ูพุดุชุจุงู ุงุฒ ุงุฌุฑุง ููุฒูุงู (concurrency)**: ฺูุฏู ูุฎ ูโุชูุงููุฏ ุจูโุตูุฑุช ููุงุฒ ุฑู ูุณุชูโูุง ูุฎุชูู ุงุฌุฑุง ุดููุฏ.
- โ **ุนุฏู ุชุฃุซุฑ ูุฎ ุจููฺฉู ุดุฏู ุจุฑ ุณุงุฑ ูุฎโูุง**: ฺูู ูุฑ ูุฎ ฺฉุงุฑุจุฑ ูุนุงุฏู ฺฉ ูุฎ ฺฉุฑูู ุงุณุชุ ุจููฺฉู ุดุฏู ฺฉ ูุฎ ุจุงุนุซ ุชููู ุณุงุฑ ูุฎโูุง ููโุดูุฏ.
- โ **ูุฒูู ุจุงูุง**: ุงุฌุงุฏ ูุฎโูุง ูุณุชูโุง ูุฒููโุจุฑ ุงุณุช ู ุฏุฑ ูุชุฌู ููฺฉู ุงุณุช ุชุนุฏุงุฏ ูุฎโูุง ูุงุจู ุงุฌุงุฏ ุจุฑุง ูุฑ ูุฑุงูุฏ ูุญุฏูุฏ ุจุงุดุฏ.

![[Pasted image 20250514220900.png]]
### ูุฒุงุง:
- ุงูฺฉุงู ุจูุฑูโฺฏุฑ ูุคุซุฑ ุงุฒ ฺูุฏโูุณุชูโุง ุจูุฏู ุณุณุชู.
- ุนููฺฉุฑุฏ ุจุงูุง ุจุฑุง ุจุฑูุงููโูุง ฺฉู ูุงุฒ ุจู ููุฒูุงู ูุงูุน ุฏุงุฑูุฏ.

### ูุนุงุจ:
- ุงูุฒุงุด ุจุงุฑ ูพุฑุฏุงุฒุด ู ูุตุฑู ููุงุจุน ุจูโุฏูู ูฺฏุงุดุช ฺฉโุจูโฺฉ.
- ุงุฌุงุฏ ูุญุฏูุฏุช ุฏุฑ ุชุนุฏุงุฏ ูุฎโูุง ุจูโุฏูู ูุฒูู ุฒุงุฏ ูุฏุฑุช ูุฎโูุง ฺฉุฑูู.

### ฺฉุงุฑุจุฑุฏูุง ู ูููููโูุง:
- **Windows** (ุณุณุชูโุนุงูู ููุฏูุฒ)
- **Linux** (ูุณุชู ูููฺฉุณ)

---

๐ **ุฌูุนโุจูุฏ**:  
ูุฏู One-to-One ุจุฑุง ุณุณุชูโูุง ฺฉู ูุงุฒ ุจู ุงุฌุฑุง ููุฒูุงู ูุงูุน ุฏุงุฑูุฏ (ูุงููุฏ ุณุฑูุฑูุง ู ุจุฑูุงููโูุง ฺฏุฑุงูฺฉ ูพฺุฏู) ุจุณุงุฑ ููุงุณุจ ุงุณุชุ ุงูุง ุจุงุฏ ูุฑุงูุจ ุณุฑุจุงุฑ ูุงุด ุงุฒ ุชุนุฏุงุฏ ุจุงูุง ูุฎโูุง ฺฉุฑูู ุจูุฏ.

---
# Many-to-Many Model

ุฏุฑ ูุฏู **Many-to-Many**ุ ุชุนุฏุงุฏ ุฒุงุฏ ูุฎ ฺฉุงุฑุจุฑ ูโุชูุงููุฏ ุจู ุชุนุฏุงุฏ ุฒุงุฏ ูุฎ ูุณุชูโุง ูฺฏุงุดุช ุดููุฏ. ุงู ูุฏู ุจู ุณุณุชูโุนุงูู ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุชุนุฏุงุฏ ฺฉุงู ูุฎ ูุณุชูโุง ุฑุง ุงุฌุงุฏ ฺฉูุฏ ุชุง ุจุชูุงูุฏ ูุฏุฑุช ููุงุณุจ ูุฎโูุง ุฑุง ุงูุฌุงู ุฏูุฏ.

## ูฺฺฏโูุง:
- **ูุฎโูุง ฺฉุงุฑุจุฑ ุจู ูุฎโูุง ูุณุชูโุง ูฺฏุงุดุช ูโุดููุฏ**: ุฏุฑ ุงู ูุฏูุ ฺูุฏู ูุฎ ฺฉุงุฑุจุฑ ูโุชูุงููุฏ ุจู ูุฎโูุง ูุณุชูโุง ูุฎุชูู ูฺฏุงุดุช ุดููุฏุ ุจู ุงู ูุนูุง ฺฉู ุณุณุชูโุนุงูู ุจูโุทูุฑ ููุฒูุงู ูโุชูุงูุฏ ุชุนุฏุงุฏ ุฒุงุฏ ูุฎ ูุณุชูโุง ุงุฌุงุฏ ฺฉูุฏ ุชุง ููุงุจุน ุฑุง ุจูโุตูุฑุช ุจููู ูุฏุฑุช ฺฉูุฏ.
- **ุณุณุชูโุนุงูู ูโุชูุงูุฏ ูุฎโูุง ฺฉุงู ุงุฌุงุฏ ฺฉูุฏ**: ุณุณุชูโุนุงูู ูโุชูุงูุฏ ุจูโุทูุฑ ุฏุงูุงูฺฉ ูุฎโูุง ูุณุชูโุง ุฑุง ุจุณุชู ุจู ูุงุฒ ุจุฑูุงููโูุง ุฏุฑ ุญุงู ุงุฌุฑุงุ ุงุฌุงุฏ ฺฉูุฏ.
  
## ูุซุงูโูุง:
- **Windows ุจุง ุจุณุชู ThreadFiber**: ููุฏูุฒ ุงุฒ ุงู ูุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ุจุณุชู ThreadFiber ูพุดุชุจุงู ูโฺฉูุฏ. ุฏุฑ ุงู ุญุงูุชุ ูุฎโูุง ฺฉุงุฑุจุฑ ุจู ูุฎโูุง ูุณุชูโุง ูุฎุชูู ูฺฏุงุดุช ูโุดููุฏ ู ุงู ุงูฺฉุงู ุฑุง ูุฑุงูู ูโุขูุฑุฏ ุชุง ููุงุจุน ุจุดุชุฑ ุงุณุชูุงุฏู ุดูุฏ.

![[Pasted image 20250514221006.png]]

## ุงุณุชูุงุฏู ูุญุฏูุฏ:
- **ุงู ูุฏู ุฏุฑ ุงฺฉุซุฑ ุณุณุชูโุนุงููโูุง ุจุณุงุฑ ุฑุงุฌ ูุณุช**: ูุฏู Many-to-Many ุจู ุฏูู ูพฺุฏฺฏโูุง ู ูุงุฒ ุจู ูุฏุฑุช ุฏูู ูุฎโูุง ูุนูููุงู ุฏุฑ ุณุณุชูโูุง ุนุงู ู ุนููู ุงุณุชูุงุฏู ููโุดูุฏ. ุฏุฑ ุนูุถุ ูุฏูโูุง ูุงููุฏ **Many-to-One** ุง **One-to-One** ุจุดุชุฑ ุฑุงุฌ ูุณุชูุฏ.

---
# Two-level Model

ูุฏู **Two-level** ุดุจู ุจู ูุฏู **Many-to-Many** ุงุณุชุ ุจุง ุงู ุชูุงูุช ฺฉู ุงู ูุฏู ุงุฌุงุฒู ูโุฏูุฏ ฺฉ ูุฎ ฺฉุงุฑุจุฑ ุจู ฺฉ ูุฎ ูุณุชูโุง ุฎุงุต ูุชุตู (bind) ุดูุฏ.

![[Pasted image 20250514221117.png]]
## ูฺฺฏโูุง:
- **ุงุชุตุงู ูุฎ ฺฉุงุฑุจุฑ ุจู ูุฎ ูุณุชูโุง**: ุฏุฑ ุงู ูุฏูุ ูุฑ ูุฎ ฺฉุงุฑุจุฑ ุจู ุทูุฑ ูุดุฎุต ุจู ฺฉ ูุฎ ูุณุชูโุง ุฎุงุต ูุชุตู ูโุดูุฏ. ุงู ุงุชุตุงู ููุฌุจ ูโุดูุฏ ฺฉู ูุฎ ฺฉุงุฑุจุฑ ุจุชูุงูุฏ ุงุฒ ุงูฺฉุงูุงุช ูุณุชู ุงุณุชูุงุฏู ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ููฺูุงู ุจุฎุด ุงุฒ ูุฑุขูุฏ ูุฏุฑุช ูุฎ ุฏุฑ ุณุทุญ ฺฉุงุฑุจุฑ ุจุงู ูโูุงูุฏ.
- **ุชุฑฺฉุจ ุงุฒ ูฺฺฏโูุง M:M ู One-to-One**: ุงู ูุฏู ุฏุฑ ูุงูุน ุชุฑฺฉุจ ุงุฒ ูุฏูโูุง **Many-to-Many** ู **One-to-One** ุงุณุช ฺฉู ููุฒูุงู ูุฒุงุง ูุฑ ุฏู ูุฏู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.
  - ูุดุงุจู ุจุง ูุฏู **Many-to-Many**ุ ุงู ูุฏู ูโุชูุงูุฏ ฺูุฏ ูุฎ ฺฉุงุฑุจุฑ ุฑุง ุจู ฺูุฏ ูุฎ ูุณุชูโุง ูฺฏุงุดุช ฺฉูุฏ.
  - ูุดุงุจู ุจุง ูุฏู **One-to-One**ุ ฺฉ ูุฎ ฺฉุงุฑุจุฑ ุจู ฺฉ ูุฎ ูุณุชูโุง ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏ.

## ูุฒุงุง:
- ุงู ูุฏู ูโุชูุงูุฏ ฺฉุงุฑุง ุจูุชุฑ ูุณุจุช ุจู ูุฏูโูุง ุฏฺฏุฑ ูุงููุฏ **Many-to-Many** ุงุฑุงุฆู ุฏูุฏ ุฒุฑุง ูุฎโูุง ฺฉุงุฑุจุฑ ู ูุณุชู ุจู ุทูุฑ ุฎุงุต ุจู ฺฉุฏฺฏุฑ ูุชุตู ุดุฏูโุงูุฏ ู ุงุฒ ุงู ุฑู ููุงููฺฏ ุจูุชุฑ ุจู ุขููุง ูุฌูุฏ ุฏุงุฑุฏ.
  
## ูุซุงู:
- ุงุณุชูุงุฏู ุฏุฑ **ุณุณุชูโุนุงููโูุง ฺฉู ูุงุฒ ุจู ููุงููฺฏ ุฏูู ุจู ูุฎโูุง ฺฉุงุฑุจุฑ ู ูุณุชู ุฏุงุฑูุฏ**ุ ู ุฏุฑ ููุงุฑุฏ ฺฉู ุชุฑฺฉุจ ุงู ุฏู ูุฏู ููุฏ ุจุงุดุฏ.

---
# Thread Libraries

ฺฉุชุงุจุฎุงููโูุง ูุฎ (Thread Libraries) ุจู ุจุฑูุงููโููุณ API ุจุฑุง ุงุฌุงุฏ ู ูุฏุฑุช ูุฎโูุง ุงุฑุงุฆู ูโุฏููุฏ. ุงู ฺฉุชุงุจุฎุงููโูุง ุงุจุฒุงุฑูุง ุฑุง ุจุฑุง ุชุณูู ุงุฌุงุฏ ูุฎโูุง ู ฺฉูุชุฑู ุขููุง ุฏุฑ ุจุฑูุงููโูุง ูุฑุงูู ูโฺฉููุฏ.

## ุฏู ุฑูุด ุงุตู ูพุงุฏูโุณุงุฒ:
1. **ฺฉุชุงุจุฎุงูู ุชูุงูุงู ุฏุฑ ูุถุง ฺฉุงุฑุจุฑ (User Space)**:
   - ุฏุฑ ุงู ุญุงูุชุ ฺฉุชุงุจุฎุงูู ูุฎโูุง ุฏุฑ ูุถุง ฺฉุงุฑุจุฑ ูพุงุฏูโุณุงุฒ ูโุดูุฏ ู ุชูุงู ุนููุงุช ูุฏุฑุช ูุฎ (ูุงููุฏ ุงุฌุงุฏุ ุฎุงุชููุ ู ุฒูุงูโุจูุฏ) ุชูุณุท ฺฉุชุงุจุฎุงููโุง ฺฉู ุฏุฑ ุณุทุญ ฺฉุงุฑุจุฑ ูุฑุงุฑ ุฏุงุฑุฏ ุงูุฌุงู ูโุดูุฏ.
   - ุงู ุฑูุด ุณุฑุนโุชุฑ ุงุณุช ุฒุฑุง ูฺ ุชูุงุณ ูุณุชูู ุจุง ูุณุชู ูุงุฒ ูุฏุงุฑุฏุ ุงูุง ููฺฉู ุงุณุช ุจุฑุฎ ูุญุฏูุฏุชโูุง ุฏุฑ ุฏุณุชุฑุณ ุจู ููุงุจุน ุณุณุชู ู ููุงููฺฏ ุจู ูุฎโูุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ.
  
2. **ฺฉุชุงุจุฎุงูู ุณุทุญ ูุณุชูโุง (Kernel-level library)**:
   - ุฏุฑ ุงู ุญุงูุชุ ฺฉุชุงุจุฎุงูู ูุฎโูุง ุชูุณุท ุฎูุฏ ุณุณุชูโุนุงูู ู ูุณุชู ูพุดุชุจุงู ูโุดูุฏ. ุงู ฺฉุชุงุจุฎุงููโูุง ุนููุงุช ูุฏุฑุช ูุฎ ุฑุง ุฏุฑ ุณุทุญ ูุณุชู ุงูุฌุงู ูโุฏููุฏ ู ุจู ุทูุฑ ูุณุชูู ุจุง ููุงุจุน ุณุณุชู ุฏุฑ ุงุฑุชุจุงุท ูุณุชูุฏ.
   - ูพุงุฏูโุณุงุฒ ูุฎโูุง ุฏุฑ ุณุทุญ ูุณุชู ุจู ุงู ูุนู ุงุณุช ฺฉู ูุฎโูุง ุจู ุตูุฑุช ููุฒูุงู ุชูุณุท ูุณุชู ุฒูุงูโุจูุฏ ูโุดููุฏ ู ูโุชูุงููุฏ ุงุฒ ูุงุจูุชโูุง ูพุดุฑูุชูโุง ูุงููุฏ ููุงููฺฏ ูุฎโูุง ู ุงุณุชูุงุฏู ุจููู ุงุฒ ูุณุชูโูุง ฺูุฏฺฏุงูู ุจูุฑูโุจุฑุฏุงุฑ ฺฉููุฏ.

## ูุฒุงุง ู ูุนุงุจ:
- **ฺฉุชุงุจุฎุงููโูุง ูุถุง ฺฉุงุฑุจุฑ** ูุนูููุงู ุณุฑุนโุชุฑ ูุณุชูุฏ ู ุจุงุฑ ฺฉูุชุฑ ุฑู ูุณุชู ูุงุฑุฏ ูโฺฉููุฏุ ุงูุง ูุญุฏูุฏุชโูุง ุฏุฑ ุงูฺฉุงูุงุช ูพุดุฑูุชู ูุงููุฏ ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ูุณุชู ู ูุฏุฑุช ููุงุจุน ุฏุงุฑูุฏ.
- **ฺฉุชุงุจุฎุงููโูุง ุณุทุญ ูุณุชูโุง** ุงูฺฉุงูุงุช ุจุดุชุฑ ุจุฑุง ูุฏุฑุช ูุฎโูุง ู ุจูููโุณุงุฒ ููุงุจุน ุณุณุชู ุฏุงุฑูุฏุ ุงูุง ูุฒูู ุจุดุชุฑ ุฏุงุฑูุฏ ฺูู ุจุฑุง ูุฑ ุนููุงุช ุจุงุฏ ุจุง ูุณุชู ุชูุงุณ ฺฏุฑูุชู ุดูุฏ.

---
```c
#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>

int sum; /* ุงู ุฏุงุฏู ุชูุณุท ุชุฑุฏูุง ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ูโุดูุฏ */

/* ุชุงุจุน ฺฉู ุชุฑุฏ ุขู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ */
void *runner(void *param);

int main(int argc, char *argv[])
{
    pthread_t tid;             /* ุดูุงุณู ุชุฑุฏ */
    pthread_attr_t attr;       /* ูุฌููุนูโุง ุงุฒ ูฺฺฏโูุง ุชุฑุฏ */

    /* ููุฏุงุฑุฏู ุงููู ูฺฺฏโูุง ูพุดโูุฑุถ ุชุฑุฏ */
    pthread_attr_init(&attr);

    /* ุงุฌุงุฏ ุชุฑุฏ */
    pthread_create(&tid, &attr, runner, argv[1]);

    /* ููุชุธุฑ ุจูุงู ุชุง ุชุฑุฏ ุชูุงู ุดูุฏ */
    pthread_join(tid, NULL);

    printf("sum = %d\n", sum);

    return 0;
}

/* ุชุงุจุน ฺฉู ุชูุณุท ุชุฑุฏ ุงุฌุฑุง ูโุดูุฏ */
void *runner(void *param)
{
    int i, upper = atoi(param);
    sum = 0;

    for (i = 1; i <= upper; i++)
        sum += i;

    pthread_exit(0);
}
```

---

### ๐ง **ุชูุถุญ ูุฎุชุตุฑ:**

- ุงู ุจุฑูุงูู ุนุฏุฏ ุตุญุญ ุฑุง ุงุฒ ูุฑูุฏ ูโฺฏุฑุฏ ู ูุฌููุน ุงุนุฏุงุฏ ุงุฒ 1 ุชุง ุขู ุนุฏุฏ ุฑุง ุฏุฑ ฺฉ ุชุฑุฏ ุฌุฏุงฺฏุงูู ูุญุงุณุจู ูโฺฉูุฏ.
    
- `pthread_create` ุชุฑุฏ ุฌุฏุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ฺฉู ุชุงุจุน `runner` ุฑุง ุจุง ูพุงุฑุงูุชุฑ ูุฑูุฏ ุงุฌุฑุง ูโฺฉูุฏ.
    
- `pthread_join` ุจุงุนุซ ูโุดูุฏ ฺฉู ุจุฑูุงููโ ุงุตู ุชุง ุงุชูุงู ุงุฌุฑุง ุชุฑุฏ ุตุจุฑ ฺฉูุฏ.
    
- ููุฏุงุฑ ููุง ูุฌููุน ุฏุฑ ูุชุบุฑ ุณุฑุงุณุฑ `sum` ุฐุฎุฑู ูโุดูุฏ ู ุฏุฑ ูพุงุงู ฺุงูพ ูโุดูุฏ.
    
---

```c
#define NUM_THREADS 10

/* ุขุฑุงูโุง ุงุฒ ุดูุงุณูโูุง ุชุฑุฏ */
pthread_t workers[NUM_THREADS];

/* ูพูุณุชู ุจู ูุฑ ุชุฑุฏ ูพุณ ุงุฒ ุงุฌุฑุง ุขู */
for (int i = 0; i < NUM_THREADS; i++)
    pthread_join(workers[i], NULL);
```

---

### ๐ง **ุชูุถุญ ุนููฺฉุฑุฏ:**

- `pthread_t workers[NUM_THREADS];`  
    ฺฉ ุขุฑุงู ุงุฒ ููุน `pthread_t` ุชุนุฑู ูโฺฉูุฏ ฺฉู ุดูุงุณูโ ฑฐ ุชุฑุฏ ุฑุง ูฺฏู ูโุฏุงุฑุฏ.
    
- ุญูููโ `for` ุจุง ุงุณุชูุงุฏู ุงุฒ `pthread_join` ุจู ูุฑ ฺฉ ุงุฒ ุชุฑุฏูุง ูโูพููุฏุฏ (ุนู ููุชุธุฑ ูโูุงูุฏ ุชุง ุชุฑุฏ ูุฑุจูุทู ฺฉุงุฑ ุฎูุฏ ุฑุง ุชูุงู ฺฉูุฏ).
    

> ุงฺฏุฑ ุงู ฺฉุฏ ุฏุฑ ฺฉูุงุฑ ฺฉุฏ `pthread_create` ุงุณุชูุงุฏู ุดูุฏุ ูุทูุฆู ูโุดูู ฺฉู ุจุฑูุงูู ุงุตู ูุจู ุงุฒ ูพุงุงูุ ููุชุธุฑ ุชฺฉูู ูููโ ุชุฑุฏูุง ูโูุงูุฏ.

---
# ุจุฑูุงูู C ฺูุฏ ูุฎ ุฏุฑ ููุฏูุฒ (Windows Multithreaded C Program)

ุฏุฑ ุงู ูุซุงูุ ูุง ฺฉ ุจุฑูุงูู ุณุงุฏูโ ฺูุฏุฑุณูุงู ุฏุฑ ููุฏูุฒ ุฑุง ุจุฑุฑุณ ูโฺฉูู. ุฏุฑ ุงู ุจุฑูุงููุ ฺฉ ุฑุดุชู (thread) ุณุงุฎุชู ูโุดูุฏ ฺฉู ูุธููโุงุด ุฌูุนโฺฉุฑุฏู ุงุนุฏุงุฏ ุงุฒ ฑ ุชุง ฺฉ ุนุฏุฏ ุฏุงุฏูโุดุฏู (ูุซูุงู ฑฐ) ุงุณุช.

## ุชุงุจุน ุงุฌุฑุง ุจุฑุง ุฑุดุชู

```c
#include <windows.h>
#include <stdio.h>

DWORD Sum; // ูุชุบุฑ ูุดุชุฑฺฉ ุจู ุฑุดุชูโูุง

// ุชุงุจุน ฺฉู ุฑุดุชู ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ
DWORD WINAPI Summation(LPVOID Param)
{
    DWORD Upper = *(DWORD*)Param;
    for (DWORD i = 1; i <= Upper; i++)
        Sum += i;

    return 0;
}
````

- `Sum` ูุชุบุฑ ูุดุชุฑฺฉ ุงุณุช ฺฉู ุจู ุฑุดุชูโูุง ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุดุชู ุดุฏู.
    
- `Summation` ุชุงุจุน ุงุณุช ฺฉู ุชูุณุท `CreateThread` ุจู ุนููุงู ุจุฏููโ ุฑุดุชู ุงุฌุฑุง ูโุดูุฏ.
    
- ููุฏุงุฑ `Param` ุจู ุนููุงู ุนุฏุฏ ุจุงูุง ูุญุฏูุฏู ุฌูุน ุฏุฑุงูุช ูโุดูุฏ.
    
- ุฌูุน ุงุนุฏุงุฏ ุงุฒ ฑ ุชุง `Upper` ุงูุฌุงู ูโุดูุฏ ู ูุชุฌู ุฏุฑ `Sum` ุฐุฎุฑู ูโุดูุฏ.
    

---

## ุชุงุจุน main: ุงุฌุงุฏ ู ุงุฌุฑุง ุฑุดุชู

```c
int main(int argc, char *argv[])
{
    DWORD ThreadId;
    HANDLE ThreadHandle;
    int Param;

    Param = atoi(argv[1]); // ุชุจุฏู ุขุฑฺฏููุงู ูุฑูุฏ ุจู ุนุฏุฏ ุตุญุญ

    // ุงุฌุงุฏ ุฑุดุชู
    ThreadHandle = CreateThread(
        NULL,       // ูฺฺฏโูุง ุงููุช ูพุดโูุฑุถ
        0,          // ุงูุฏุงุฒู ูพุดุชู ูพุดโูุฑุถ
        Summation,  // ุชุงุจุน ฺฉู ุฑุดุชู ุงุฌุฑุง ูโฺฉูุฏ
        &Param,     // ูพุงุฑุงูุชุฑ ูุฑูุฏ ุจุฑุง ุชุงุจุน ุฑุดุชู
        0,          // ููฺฏโูุง ุงุฌุงุฏ ูพุดโูุฑุถ
        &ThreadId   // ุดูุงุณู ุฑุดุชู ุงุฌุงุฏ ุดุฏู
    );

    // ููุชุธุฑ ุจูุงู ุชุง ุฑุดุชู ุชูุงู ุดูุฏ
    WaitForSingleObject(ThreadHandle, INFINITE);

    // ุจุณุชู ุฏุณุชู ุฑุดุชู
    CloseHandle(ThreadHandle);

    // ฺุงูพ ูุชุฌู
    printf("sum = %d\n", Sum);
}
```

### ูฺฉุงุช ููู:

- `CreateThread` ุฑุดุชูโุง ุงุฌุงุฏ ูโฺฉูุฏ ู ุงุฌุฑุง ุขู ุฑุง ุจุง ุชุงุจุน `Summation` ุขุบุงุฒ ูโฺฉูุฏ.
    
- ุจุง ุงุณุชูุงุฏู ุงุฒ `WaitForSingleObject` ููุชุธุฑ ูโูุงูู ุชุง ุฑุดุชู ุจู ูพุงุงู ุจุฑุณุฏ.
    
- ุฏุฑ ูพุงุงูุ ุฏุณุชูโ ูุฑุจูุท ุจู ุฑุดุชู ุจุณุชู ูโุดูุฏ ุชุง ููุงุจุน ุขุฒุงุฏ ุดููุฏ.
    
- ุฎุฑูุฌ ููุงุ ูุฌููุน ุงุนุฏุงุฏ ุงุฒ ฑ ุชุง ุนุฏุฏ ูุฑูุฏ ุงุณุช.
    

---

## ุฏุงฺฏุฑุงู ุงุฌุฑุง (Mermaid)

```mermaid
sequenceDiagram
    participant Main
    participant Thread

    Main->>Main: ุฏุฑุงูุช ูพุงุฑุงูุชุฑ ูุฑูุฏ
    Main->>Thread: CreateThread(Summation)
    Thread->>Thread: ุงุฌุฑุง ุญููู ุฌูุน
    Thread-->>Main: ูพุงุงู ุงุฌุฑุง
    Main->>Main: WaitForSingleObject
    Main->>Main: ฺุงูพ ููุฏุงุฑ Sum
```

---

## ุฌูุนโุจูุฏ

ุงู ูุซุงู ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ API ููุฏูุฒ ฺฉ ุฑุดุชู ุงุฌุงุฏ ฺฉุฑุฏู ู ุชุงุจุน ุฏูุฎูุงู ุฑุง ุฏุฑ ุขู ุงุฌุฑุง ฺฉุฑุฏ. ุงู ูุฏู ุจุฑูุงููโููุณ ูโุชูุงูุฏ ุจู ุตูุฑุช ููโุฒูุงู ฺูุฏู ูุธูู ุฑุง ุงูุฌุงู ุฏูุฏ ู ุงุฒ ููุงุจุน ุณุณุชู ุจู ุดฺฉู ูุคุซุฑุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ.

---
## **ุฑุดุชูโูุง (Threads) ุฏุฑ ุฒุจุงู ุฌุงูุง**

### โ ูฺฉุงุช ฺฉูุฏ:

- **ุฑุดุชูโูุง ุฌุงูุง ุชูุณุท JVM (ูุงุดู ูุฌุงุฒ ุฌุงูุง) ูุฏุฑุช ูโุดููุฏ.**
    
- ุงู ุฑุดุชูโูุง ูุนูููุงู **ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฏู ูุฎโูุง ุณุณุชูโุนุงูู ูพุงู** ูพุงุฏูโุณุงุฒ ูโุดููุฏ.
    
- ุงุฌุงุฏ ุฑุดุชูโูุง ุฏุฑ ุฌุงูุง ุจู ุฏู ุฑูุด ุงูฺฉุงูโูพุฐุฑ ุงุณุช:
    
    1. **ุงุฑุซโุจุฑ ุงุฒ ฺฉูุงุณ `Thread`**
        
    2. **ูพุงุฏูโุณุงุฒ ูุงุณุท `Runnable`**
        

---

### ๐ท ูพุงุฏูโุณุงุฒ ูุงุณุท Runnable

```java
public interface Runnable {
    public abstract void run();
}
```

ุงู ูุงุณุท ุฏุงุฑุง ฺฉ ูุชุฏ ุจู ูุงู `run()` ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ฺฉูุงุณ ูพุงุฏูโุณุงุฒโุดุฏู ุชุนุฑู ุดูุฏ.

---

### ๐ฏ ูฺฉุชู ููู:

โ **ุฑูุด ุงุณุชุงูุฏุงุฑุฏ ู ุชูุตูโุดุฏูุ ูพุงุฏูโุณุงุฒ ูุงุณุท `Runnable` ุงุณุช**ุ ฺูู ุงู ุฑูุด ุงุฌุงุฒู ูโุฏูุฏ ฺฉูุงุณ ุดูุง ุงุฒ ฺฉูุงุณโูุง ุฏฺฏุฑ ูุฒ ุงุฑุซโุจุฑ ฺฉูุฏ (ุจุฑุฎูุงู ุงุฑุซโุจุฑ ุงุฒ `Thread` ฺฉู ุงุฒ ุงุฑุซโุจุฑ ฺูุฏฺฏุงูู ุฌููฺฏุฑ ูโฺฉูุฏ).

---
## **ุฑุดุชูโูุง ุฏุฑ ุฌุงูุง (Java Threads)**

### โ ูพุงุฏูโุณุงุฒ ูุงุณุท Runnable:

ุจุฑุง ุณุงุฎุช ฺฉ Thread ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงุณุท `Runnable`ุ ุงุจุชุฏุง ุจุงุฏ ฺฉ ฺฉูุงุณ ุจุณุงุฒุฏ ฺฉู ุงู ูุงุณุท ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ:

```java
class Task implements Runnable {
    public void run() {
        System.out.println("I am a thread.");
    }
}
```

๐น ุงู ฺฉูุงุณ `Task` ุฏุงุฑุง ูุชุฏ `run()` ุงุณุช ฺฉู ูุธุงู ูุฎ (Thread) ุฏุฑ ุขู ุชุนุฑู ูโุดูุฏ. ุฏุฑ ุงูุฌุง ููุท ฺฉ ูพุงู ฺุงูพ ูโุดูุฏ:  
๐ ยซูู ฺฉ ูุฎ ูุณุชู.ยป

---

### โ ุงุฌุงุฏ ฺฉ ูุฎ (Creating a thread):

ุจุฑุง ุงุฌุฑุง ุงู ูุธูู ุฏุฑ ฺฉ ูุฎ ุฌุฏุฏ:

```java
Thread worker = new Thread(new Task());
worker.start();
```

๐น ุงุจุชุฏุง ฺฉ ุดุก ุงุฒ ฺฉูุงุณ `Thread` ุณุงุฎุชู ูโุดูุฏ ู ุจู ุขู ฺฉ ุดุก ุงุฒ ฺฉูุงุณ `Task` (ฺฉู ูุงุณุท `Runnable` ุฑุง ูพุงุฏู ฺฉุฑุฏู) ุฏุงุฏู ูโุดูุฏ.  
๐น ุจุง ุงุณุชูุงุฏู ุงุฒ `start()`ุ ูุฎ ุขุบุงุฒ ุจู ฺฉุงุฑ ูโฺฉูุฏ ู ูุชุฏ `run()` ุจู ุตูุฑุช ุบุฑููุฒูุงู ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ.

---

### โ ููุชุธุฑ ูุงูุฏู ุจุฑุง ูพุงุงู ูุฎ (Waiting on a thread):

ุจุฑุง ุงูฺฉู ูุฎ ุงุตู ููุชุธุฑ ูพุงุงู ุงูุชู ูุฎ `worker` ุจูุงูุฏ:

```java
try {
    worker.join();
} catch (InterruptedException ie) {
    // ูุฏุฑุช ุฎุทุง
}
```

๐น ูุชุฏ `join()` ุจุงุนุซ ูโุดูุฏ ฺฉู ุจุฑูุงูู ูุนู ููุชุธุฑ ุจูุงูุฏ ุชุง ูุฎ `worker` ุงุฌุฑุง ู ุจู ูพุงุงู ุจุฑุณุฏ.  
๐น ููฺฉู ุงุณุช ุงู ุนููุงุช ุจู ุฏูุงู ูุฎุชูู ูุชููู ุดูุฏ (ูุซูุงู ูุทุนโุดุฏู ูุฎ)ุ ฺฉู ุฏุฑ ุขู ุตูุฑุช `InterruptedException` ูพุฑุชุงุจ ูโุดูุฏ ู ุจุงุฏ ูุฏุฑุช ุดูุฏ.

---
## **ฺุงุฑฺูุจ ุงุฌุฑุง ุฌุงูุง (Java Executor Framework)**

### โ ุชุนุฑู:

๐ธ ุจู ุฌุง ุงูฺฉู ูุฎโูุง ุฑุง ุจูโุตูุฑุช ูุณุชูู ู ุฏุณุช ุงุฌุงุฏ ฺฉูู (ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณ `Thread`)ุ ุฌุงูุง ูฺฉุงูุฒู ุจู ูุงู **Executor** ูุฑุงูู ฺฉุฑุฏู ฺฉู ูุฑุขูุฏ ุงุฌุงุฏ ู ูุฏุฑุช ูุฎโูุง ุฑุง ุณุงุฏูโุชุฑ ูโฺฉูุฏ.

---

### โ ูุงุณุท Executor:

```java
public interface Executor {
    void execute(Runnable command);
}
```

๐น ุงู ูุงุณุท ุฏุงุฑุง ฺฉ ูุชุฏ ุจู ูุงู `execute` ุงุณุช ฺฉู ฺฉ ุดุก ุงุฒ ููุน `Runnable` ุฑุง ุจู ุนููุงู ูุฑูุฏ ูโฺฏุฑุฏ ู ุขู ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.

---

### โ ูุญูู ุงุณุชูุงุฏู ุงุฒ Executor:

```java
Executor service = new Executor();
service.execute(new Task());
```

๐น ุฏุฑ ุงู ูุซุงูุ ฺฉ ุดุก ุงุฒ ููุน `Executor` ุณุงุฎุชู ุดุฏู ู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ `execute()`ุ ูุธููโ ูุฑุจูุทู (ฺฉูุงุณ `Task`) ุงุฌุฑุง ูโุดูุฏ.

---
ุฏุฑ ุงู ุงุณูุงุฏุ ฺฉ ุงุณุชูุงุฏู ูพุดุฑูุชูโุชุฑ ุงุฒ ฺุงุฑฺูุจ ุงุฌุฑุง ุฌุงูุง (Java Executor Framework) ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงุณุท **Callable** ููุงุด ุฏุงุฏู ุดุฏู ุงุณุช.

---

## **Java Executor Framework - ุงุณุชูุงุฏู ุงุฒ Callable**

### โ ูุฏู:

ฺฏุงู ูุงุฒ ุฏุงุฑู ฺฉู ูุฎ (Thread) ูู ุชููุง ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏุ ุจูฺฉู **ูุชุฌูโุง ูู ุจุงุฒฺฏุฑุฏุงูุฏ**. ุฏุฑ ุงู ููุงูุน ุจู ุฌุง `Runnable`ุ ุงุฒ **ูุงุณุท Callable** ุงุณุชูุงุฏู ูโฺฉูู.

---

### โ ฺฉุฏ ุชูุถุญ:

```java
import java.util.concurrent.*;

class Summation implements Callable<Integer> {
    private int upper;

    public Summation(int upper) {
        this.upper = upper;
    }

    public Integer call() {
        int sum = 0;
        for (int i = 1; i <= upper; i++)
            sum += i;
        return new Integer(sum);
    }
}
```

---

### โ ุชูุถุญุงุช:

๐น `Callable<T>` ูุดุงุจู `Runnable` ุงุณุช ุงูุง:

- ูุชุฏ ุจู ูุงู `call()` ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุฎุฑูุฌ ุฏุงุดุชู ุจุงุดุฏ (ุจุฑุฎูุงู `run()`).
    
- ูโุชูุงูุฏ **ุงุณุชุซูุง (Exception)** ูู ูพุฑุชุงุจ ฺฉูุฏ.
    

๐น ุฏุฑ ุงูุฌุงุ ฺฉูุงุณ `Summation` ุงุฒ `Callable<Integer>` ูพุฑู ูโฺฉูุฏ ฺฉู ุฌูุน ุงุนุฏุงุฏ ุงุฒ ฑ ุชุง ููุฏุงุฑ `upper` ุฑุง ูุญุงุณุจู ู ุจุงุฒูโฺฏุฑุฏุงูุฏ.

๐น ูุชุฏ `call()` ููุงู ูุชุฏ ุงุณุช ฺฉู ุชูุณุท ูุฎ ุงุฌุฑุง ูโุดูุฏ ู ูุชุฌูโุงุด ุฑุง ูโุชูุงู ุฏุฑุงูุช ฺฉุฑุฏ.

---
ุง
## โ Java Executor Framework (ุงุฏุงูู)

ุฏุฑ ุงูุฌุงุ ฺฉูุงุณ `Driver` ุจุฑุง ุงุฌุฑุง ูุฎโูุง ฺฉู ุงุฒ `Callable` ุงุณุชูุงุฏู ูโฺฉููุฏ ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช.

---

### โ ฺฉุฏ ุชูุถุญ:

```java
public class Driver {
    public static void main(String[] args) {
        int upper = Integer.parseInt(args[0]);

        ExecutorService pool = Executors.newSingleThreadExecutor();
        Future<Integer> result = pool.submit(new Summation(upper));

        try {
            System.out.println("sum = " + result.get());
        } catch (InterruptedException | ExecutionException ie) {
        }
    }
}
```

---

### โ ุชูุถุญุงุช:

๐น `ExecutorService pool = Executors.newSingleThreadExecutor();`  
ุงุฌุงุฏ ฺฉ ูุฎ ุงุฌุฑุง (thread pool) ุจุง ุชููุง ฺฉ ูุฎ.

๐น `pool.submit(new Summation(upper));`  
ูุธูู (task) `Summation` ฺฉู ฺฉ ุด ุงุฒ `Callable<Integer>` ุงุณุชุ ุจู ูุฎ ุงุฌุฑุง ุงุฑุณุงู ูโุดูุฏ.

๐น `Future<Integer> result = ...`  
ุด `Future` ุจุฑุง ูพฺฏุฑ ูุถุนุช ุงุฌุฑุง ูุฎ ู ุฏุฑุงูุช ูุชุฌู ุงุณุชูุงุฏู ูโุดูุฏ.

๐น `result.get();`  
ููุชุธุฑ ูโูุงูุฏ ุชุง ูุญุงุณุจู ฺฉุงูู ุดูุฏ ู ุณูพุณ ููุฏุงุฑ ููุง ุฑุง ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุงู ูุฑุงุฎูุงู **ูุณุฏูุฏฺฉููุฏู** ุงุณุชุ ุนู ุชุง ุฒูุงู ุฏุฑุงูุช ูุชุฌู ุงุฏุงูู ููโุฏูุฏ.

๐น `try-catch`  
ุจู ุฏูู ุงูฺฉู `get()` ููฺฉู ุงุณุช ุงุณุชุซูุงูุง ูุงููุฏ `InterruptedException` ุง `ExecutionException` ุงุฌุงุฏ ฺฉูุฏุ ุจุงุฏ ุจุง ุจููฺฉ `try-catch` ูุฏุฑุช ุดูุฏ.

---

### โ ฺฉุงุฑุจุฑุฏ ููุง:

ุงู ุจุฑูุงูู ฺฉ ุนุฏุฏ ุตุญุญ ุงุฒ ุขุฑฺฏููุงู ุฎุท ูุฑูุงู ูโฺฏุฑุฏุ ุขู ุฑุง ุจู ุนููุงู ุจุงูุงุชุฑู ุนุฏุฏ ุจุฑุง ุฌูุน ุงุฒ ฑ ุชุง ุขู ุนุฏุฏ ุงุณุชูุงุฏู ฺฉุฑุฏูุ ูุฎ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ ู ุญุงุตู ุฌูุน ุฑุง ููุงุด ูโุฏูุฏ.

---
# End of Chapter 4 :)